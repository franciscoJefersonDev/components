var r=Object.defineProperty;var h=(s,t,e)=>t in s?r(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>(h(s,typeof t!="symbol"?t+"":t,e),e);const c=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};c();class u{constructor(t){n(this,"rippleTimeout");n(this,"rippleEnd");n(this,"els");n(this,"elementData");this.rippleEnd=!1,this.els=t,this.elementData={size:0,color:"",transition:200,halfWidth:0,halfHeight:0,touchData:{top:0,left:0,right:0,bottom:0}},this.els.forEach(e=>{e.addEventListener("pointerdown",a=>{this.start(a)}),e.addEventListener("mouseup",a=>{this.end(a.target)}),e.addEventListener("touchend",a=>{this.end(a.tagret)})})}start(t){this.setElementSize(t.target),this.setColorAndTransition(t.target),this.elementData.halfWidth=t.target.offsetWidth/2,this.elementData.halfHeight=t.target.offsetHeight/2,this.rippleTimeout=setTimeout(()=>{this.rippleEnd=!0},this.elementData.transition),this.create(t)}setElementSize(t){const e=Number(window.getComputedStyle(t).getPropertyValue("width").replace(/px/gi,"")),a=Number(window.getComputedStyle(t).getPropertyValue("height").replace(/px/gi,""));this.elementData.size=Math.sqrt(Math.pow(e,2)+Math.pow(a,2))/4}setColorAndTransition(t){this.elementData.color=window.getComputedStyle(t).getPropertyValue("--rp-color"),this.elementData.transition=Number(window.getComputedStyle(t).getPropertyValue("--rp-transition"))}create(t){const e=document.createElement("span");e.classList.add("ripple"),t.target.appendChild(e),this.setTouchData(t),e.style.top=`${this.elementData.touchData.top-this.elementData.size/2}px`,e.style.left=`${this.elementData.touchData.left-this.elementData.size/2}px`,e.style.willChange="transform border-radius width height top left",e.style.backgroundColor=this.elementData.color,e.style.transform=`scale(${this.getScaleRipple()/(this.elementData.size/2)})`,e.style.width=`${this.elementData.size}px`,e.style.height=`${this.elementData.size}px`,e.style.borderRadius="100%",e.style.position="absolute",e.style.pointerEvents="none",e.style.opacity="1",e.style.transition=`opacity linear ${this.elementData.transition}ms, transform linear ${this.elementData.transition}ms`}setTouchData(t){this.elementData.touchData.top=Number(Math.abs(t.target.getBoundingClientRect().top-t.clientY)),this.elementData.touchData.left=Number(Math.abs(t.target.getBoundingClientRect().left-t.clientX)),this.elementData.touchData.right=Number(Math.abs(t.target.getBoundingClientRect().right-t.clientX)),this.elementData.touchData.bottom=Number(Math.abs(t.target.getBoundingClientRect().bottom-t.clientY))}getFormula(){return{a:Math.sqrt(this.elementData.touchData.bottom**2+this.elementData.touchData.right**2),b:Math.sqrt(this.elementData.touchData.bottom**2+this.elementData.touchData.left**2),c:Math.sqrt(this.elementData.touchData.top**2+this.elementData.touchData.right**2),d:Math.sqrt(this.elementData.touchData.top**2+this.elementData.touchData.left**2)}}getScaleRipple(){return this.elementData.touchData.top<=this.elementData.halfHeight&&this.elementData.touchData.left<=this.elementData.halfWidth?this.getFormula().a:this.elementData.touchData.top<this.elementData.halfHeight&&this.elementData.touchData.left>this.elementData.halfWidth?this.getFormula().b:this.elementData.touchData.top>this.elementData.halfHeight&&this.elementData.touchData.left<this.elementData.halfWidth?this.getFormula().c:this.elementData.touchData.top>this.elementData.halfHeight&&this.elementData.touchData.left>this.elementData.halfWidth?this.getFormula().d:this.getFormula().d}end(t){t.querySelectorAll(".ripple").forEach(a=>{this.rippleEnd?(a.style.opacity="0",a.style.transition=`opacity linear ${this.elementData.transition}ms`,a.addEventListener("transitionend",()=>{a.remove()})):setTimeout(()=>{a.style.opacity="0",a.style.transition=`opacity linear ${this.elementData.transition}ms`,a.addEventListener("transitionend",()=>{a.remove()})},this.elementData.transition),clearTimeout(this.rippleTimeout),this.rippleEnd=!1})}}const m=document.querySelector("#app");m.innerHTML=`
  <button class="ripples">Click-me</button>
`;const d=document.querySelectorAll(".ripples");new u(d);
